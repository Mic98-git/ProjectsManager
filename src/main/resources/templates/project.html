<html>
	<head>
		<title>TaskManager</title>
		<link rel="stylesheet" type="text/css" href="../static/css/style.css" th:href="@{/css/style.css}">
	</head>
	
	<body>
		<div th:replace="navbar :: topbar"></div>
		<h2 th:text="${project.name}">...</h2>
		
		<table>
			<tr>
				<td>
					<h3>Description</h3>
				</td>
				<td th:text="${project.description}">...</td>
			</tr>
			<tr>
				<td>
					<h3>Shared with:</h3>
				</td>
				<td>
					<ul>
						<li th:each="member : ${members}">
							<div th:text ="${member.name} + ' ' + ${member.lastName}"></div>
						</li>
					</ul>					
				</td>
			</tr>
			<tr>
				<td><h3>Tasks</h3></td>
				<td>
					<ul>
					<li th:each="task : ${project.projectTasks}">
						<div th:text="${task.name}"></div>
						<div th:text="${task.description}"></div>
					</li>
					</ul>
				</td>
			</tr>
		</table>


		<table>
			<tr>
				<th>Tag</th>
				<th>Manage members</th>
			</tr>
			<tr>
				<td>
					<!-- Form per il nuovo tag -->
				</td>
				<td>
					<!-- Form per aggiunta di membri -->
					<form method="post" th:action="@{'/projects/' + ${project.id} + '/members/add'}" th:object="${credentialForm}">
						<label>Choose a member to add</label><br>
						<select th:field="*{userName}">
							<th:block th:each="credential : ${allCredentials}">
								<option th:value="${credential.userName}" 
									th:text="${credential.userName}"></option>				
							</th:block>
						</select><br>

						<input type="submit" name="memberButton" value="Add member">
					</form>
				</td>
			</tr>
		</table>	
	</body>
</html>